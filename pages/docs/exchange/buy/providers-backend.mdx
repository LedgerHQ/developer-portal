import Zoom from 'react-medium-image-zoom'
import 'react-medium-image-zoom/dist/styles.css'
import { Tabs } from 'nextra/components'
import { Callout } from 'nextra/components'
import BackendIntro from '../../../../public/exchange/import/backend-intro.mdx'
import PayloadAndSignature from '../../../../public/exchange/import/payload-and-signature.mdx'
 
# Backend

<BackendIntro />

## Endpoints needed for Buy

In order to communicate with Ledgerâ€™s backend, you must provide standardised APIs for Ledger's BUY aggregator services to call.

<Callout type="info" emoji="ðŸ”—">
You will find all the information regarding the BUY endpoints here: https://exchange-integration-buy.redoc.ly/.
</Callout>


There are 3 main endpoints needed for the buy:
    - To get the list of available fiat, country, payment, method and amount: [/capabilities](https://exchange-integration-buy.redoc.ly/#operation/getCapabilities).
    - To get the list of available crypto-currencies: [/crypto-currencies](https://exchange-integration-buy.redoc.ly/#operation/getCrypto-currencies).
    - To get the crypto amount that the user should expect -after all fees are deducted - as a payment for the given fiat amount: [/quotes](https://exchange-integration-buy.redoc.ly/#operation/getQuote).  

<Callout type="info" emoji="ðŸ‘‰">
  If you already have some endpoints with similar functions but different names, let us know because we might be able to adapt.
</Callout>

<details>
  <summary>Additional Details: POST /quote</summary>
    
    All fees are expressed in output currency. For example, during a ETH to USDT on ethereum swap, the fees are expressed in USDT on ethereum.

    Some requirements about the **/quote** endpoint:
    - The quote must work without user auth. It can require a Ledger auth.
    - The quote must be valid long enough (at least a few minutes).    
</details>



[//]: # (Info needed to be exchange with the provider, but not out loud publicly)
[//]: # (**IP address checking** )
[//]: # (Additionally, we also need a way to know if a user will be able to perform a coin swap given his IP.)
[//]: # (Our back-end can adapt to how you decide to do this, but we recommend you use a dedicated endpoint. Our back-end will send the userâ€™s IP address to that endpoint, without logging it. In response, your endpoint should tell us if the trade is accepted or rejected.)



## Payload & Signature

<PayloadAndSignature />
