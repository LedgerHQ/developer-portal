import Glossary from '/components/features/tooltip-glossary'

# Using the Transaction Module in Services Kit Core Client

The <Glossary word="Transaction"></Glossary> Module allows you to interact with user transactions. It enables you to let the user sign a <Glossary word="transaction"></Glossary> and also allows you to sign and broadcast a <Glossary word="transaction"></Glossary> through <Glossary word="Ledger Live"></Glossary>.

## Transaction Module Overview

Access the <Glossary word="Transaction"></Glossary> module via `walletApiClient.transaction`.

### Methods:

#### 1. Sign Transaction

Let the user sign a <Glossary word="transaction"></Glossary> without broadcasting it. This is useful if you want to sign a <Glossary word="transaction"></Glossary> for later use.

```javascript
walletApiClient.transaction.sign(
    accountId: string,
    transaction: <Glossary word="Transaction"></Glossary>,
    options?: TransactionSign["params"]["options"],
    meta?: Record<string, unknown>
): Promise<Buffer>
```

**Parameters**:
- `accountId` (required): The ID of the account where the <Glossary word="transaction"></Glossary> will be made.
- `transaction` (required): The [transaction object](../../appendix/transaction) in the currency family-specific format.
- `options` (optional): Extra parameters that might be needed for the transaction. See [references](../../appendix/transaction#transactionsign-type) for more information.
- `meta` (optional): Metadata for the <Glossary word="transaction"></Glossary>.

**Returns**: A promise that resolves with the raw signed <Glossary word="transaction"></Glossary> as a Buffer.

[**Required permission**:](https://developers.ledger.com/docs/ledger-live/discover/guides/wallet-api/appendix/manifest#permissions)
 `transaction.sign`

##### Example:

```javascript
async function signTransaction(walletApiClient, accountId, <Glossary word="transaction"></Glossary>, options, meta) {
  try {
    const signedTransaction = await walletApiClient.transaction.sign(accountId, <Glossary word="transaction"></Glossary>, options, meta);
    console.log('Signed transaction:', signedTransaction);
  } catch (error) {
    console.error('Error signing transaction:', error);
  }
}
```

#### 2. Sign and Broadcast Transaction

Let the user sign a <Glossary word="transaction"></Glossary> and broadcast it to the network.

```javascript
walletApiClient.transaction.signAndBroadcast(
    accountId: string,
    transaction: <Glossary word="Transaction"></Glossary>,
    options?: TransactionSignAndBroadcast["params"]["options"],
    meta?: Record<string, unknown>
): Promise<string>
```

**Parameters**:
- `accountId` (required): The ID of the account where the <Glossary word="transaction"></Glossary> will be made.
- `transaction` (required): The [transaction object](../../appendix/transaction) in the currency family-specific format.
- `options` (optional): Extra parameters that might be needed for the transaction. See [references](../../appendix/transaction#transactionsignandbroadcast-type) for more information.
- `meta` (optional): Metadata for the <Glossary word="transaction"></Glossary>.

**Returns**: A promise that resolves with the <Glossary word="transaction"></Glossary> hash as a string.

[**Required permission**:](https://developers.ledger.com/docs/ledger-live/discover/guides/wallet-api/appendix/manifest#permissions)
  `transaction.signAndBroadcast`

##### Example:

```javascript
async function signAndBroadcastTransaction(walletApiClient, accountId, <Glossary word="transaction"></Glossary>, options, meta) {
  try {
    const transactionHash = await walletApiClient.transaction.signAndBroadcast(accountId, <Glossary word="transaction"></Glossary>, options, meta);
    console.log('Transaction Hash:', transactionHash);
  } catch (error) {
    console.error('Error signing and broadcasting transaction:', error);
  }
}
```

## Handling Errors

Make sure to handle errors gracefully and provide appropriate feedback to the user. Additionally, always remember to disconnect the `WindowMessageTransport` when you're done interacting with the Ledger Services Kit to free up resources.