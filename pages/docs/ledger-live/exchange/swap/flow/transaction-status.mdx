import Glossary from '/components/features/tooltip-glossary'
import Zoom from 'react-medium-image-zoom'
import 'react-medium-image-zoom/dist/styles.css'
import Image from 'next/image'

# Transaction status

As a swap is done with a centralized entity, some part of the swap is done off-chain.
As such, the user must be able to follow the status of the swap to avoid having them in a situation where they do not know what is happening with their <Glossary word="transaction"></Glossary>. Therefore, the user can follow the status on the <Glossary word="transaction"></Glossary> in an history tab on Ledger.

## History tab

The history tab contains the swap transactions for a given <Glossary word="Ledger Live"></Glossary> instance.

The following information is displayed to the user:

- Date of Swap and time
- Partner name
- Source account
- Destination account
- Amount of destination token credited
- Amount of source token deducted
- Swap status

By clicking on a given swap, more information is displayed:

- **Provider**: Link to the provider’s website
- **Swap ID**: This information is generated by the partner and sent back to Ledger <Glossary word="backend"></Glossary> at the swap creation. This ID must be used by the user if they need to contact the partner’s support.
- **Status**: Detail of Status in the next section.
- **Date**: Date of the Transaction
- **From**: Name of the source account
- **Initial amount**: Amount of token sent
- **Origin address**: Address of the source account
- **To**: Name of the destination account
- **Credited amount**: Amount of destination token credited
- **Provider address**: Destination address of the provider

An url will be made available to the user to get more information about the swap <Glossary word="transaction"></Glossary>.
You should provide this url to Ledger, accepting the following query parameters:

- **swapId**: Swap ID

## Status

Users can check the status of the swap <Glossary word="transaction"></Glossary> in the history tab. <Glossary word="Ledger Live"></Glossary> <Glossary word="backend"></Glossary> calls the partner with the Swap ID to get the status for each <Glossary word="transaction"></Glossary> (until the <Glossary word="transaction"></Glossary> is “FINISHED”).

The statuses are:

1. non final

- **Pending**: <Glossary word="Transaction"></Glossary> is ongoing
- **OnHold**: Provider has received funds but funds on <Glossary word="transaction"></Glossary> hold on provider’s side

2. final (can’t be changed)

- **Expired**: User’s <Glossary word="transaction"></Glossary> has failed. funds stay in their wallet
- **Finished**: <Glossary word="Transaction"></Glossary> completed and fund sent
- **Refunded**: Funds are back in user’s wallet

You can add more detailed statuses (KYC, swap withdrawal failure, network congestion, refund failure, etc) by providing a mapping of your status along with the two status above.

## Workflow for transaction status between Ledger and the partner

While the <Glossary word="transaction"></Glossary> is performed, Ledger polls the partner for status updates. Initially, the <Glossary word="transaction"></Glossary> is pending. The goal is to have the same status as above for clarity.

<Zoom>
    <img
      alt="Transaction flow"
      src="/exchange/transaction-status.jpg"
    />
</Zoom>
